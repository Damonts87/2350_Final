<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Submit Observations</title>
    <link rel="stylesheet" href="../styles.css">
    <script src="../script.js" defer></script>
</head>
<body>
    <nav>
        <div class="brand">
            <a href="../index.html">
                <img src="../images/avylogo.png" alt="Avy logo" />
            </a>
        </div>
        <ul class="nav-links">
            <li class="dropdown">
                <a href="../Observations.html">Observations</a>
                <ul class="dropdown-menu">
                    <li><a href="SubmitObs.html">Submit Observations</a></li>
                    <li><a href="ViewObs.html">View Observations</a></li>
                </ul>
            </li>
            <li><a href="../Classes.html">Classes</a></li>
            <li><a href="../Events.html">Events</a></li>
            <li><a href="../Support.html">Support Us</a></li>
            <li><a href="../About.html">About</a></li>
        </ul>
    </nav>

    <section>
        <h1 class="index-header">Submit Observations</h1><br>
        <form id="observation-form">
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" required><br><br>

            <label for="date">Date of Observation:</label>
            <input type="date" id="date" name="date" required><br><br>

            <label for="location">Location (e.g., mountain range, specific area):</label>
            <input type="text" id="location" name="location" required><br><br>

            <label for="avalanche">Was there an avalanche? (Yes/No):</label><br>
            <input type="radio" id="avalanche-yes" name="avalanche" value="Yes" required>
            <label for="avalanche-yes">Yes</label><br>
            <input type="radio" id="avalanche-no" name="avalanche" value="No">
            <label for="avalanche-no">No</label><br><br>

            <button type="submit">Submit Observation</button>
        </form>
    </section>

    <footer>
        <div class="footer-container">
            <div class="footer-address">
                <p>P.O. Box 56</p>
                <p>Huntsville, UT</p>
                <p>84317, USA</p>
            </div>

            <div class="footer-social">
                <a href="https://www.facebook.com/Ogdenavalanche/" target="_blank" aria-label="Facebook">Facebook</a>
                <a href="https://www.youtube.com/channel/UCwweFD0D2FAQemDZtdgyl9w?view_as=subscriber" target="_blank" aria-label="Youtube">Youtube</a>
                <a href="https://www.instagram.com/ogdenavalanche/" target="_blank" aria-label="Instagram">Instagram</a>
            </div>

            <div class="footer-contact">
                <p>Email: <a href="mailto:Ogdenavy@ogdenavalanche.org">Ogdenavy@ogdenavalanche.org</a></p>
            </div>
        </div>
        <p>Copyright &copy; 2024 Damon Sirois All Rights Reserved</p>
    </footer>

    <script>
        document.getElementById("observation-form").addEventListener("submit", function(e) {
            e.preventDefault(); // Prevent form submission
        
            // Collect form data
            const name = document.getElementById("name").value;
            const date = document.getElementById("date").value;
            const location = document.getElementById("location").value;
            const avalanche = document.querySelector('input[name="avalanche"]:checked').value;
        
            // Get existing observations from localStorage, or initialize an empty array if none
            let observations = getObservations();
        
            // Add the new observation to the array
            observations.push({
                name: name,
                date: date,
                location: location,
                avalanche: avalanche
            });
        
            // Save the updated observations array back to localStorage
            saveObservations(observations);
        
            // Optionally, redirect to the ViewObs page to show the submitted observations
            window.location.href = "ViewObs.html";
        });
        
    </script>
</body>
</html>
